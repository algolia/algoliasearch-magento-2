<?php /** @var $this \Algolia\AlgoliaSearch\Block\Adminhtml\Analytics\Index */ ?>
<?php if (!$this->checkIsValidDateRange()): ?>
<div class="algoliasearch-notices message message-notice notice">
    <div class="notice">
        <?php echo __('The selected date is out of your analytics retention window (7 days), your data might not be present anymore.'); ?>
    </div>
</div>
<?php endif ?>
<div class="algoliasearch-analytics-overview">
    <div class="row clearfix section">
        // total searches
        // Users
        // No results rate
    </div>
    <div class="row clearfix section">
        // Daily Searches
    </div>
    <div class="row halves">
        <div class="one-half section popular-searches">
            <div class="title">
                <h3><?php echo __('Popular Searches'); ?></h3>
            </div>
            <div class="analytics-content">
                <?php if (count($this->getTopSearches())): ?>
                    <table class="data-table admin__table-primary">
                        <thead>
                            <tr class="headings">
                                <th><?php echo __('Query') ?></th>
                                <th><?php echo __('Count') ?></th>
                            </tr>
                        </thead>
                        <tbody>
                        <?php foreach ($this->getTopSearches() as $search): ?>
                            <tr>
                                <td><?php echo $search['search'] ?></td>
                                <td><?php echo $search['count'] ?></td>
                            </tr>
                        <?php endforeach ?>
                        </tbody>
                    </table>
                <?php else: ?>
                    <?php echo __('No searches yet!'); ?>
                <?php endif ?>
            </div>
        </div>
        <div class="one-half section no-result-searches">
            <div class="title">
                <h3><?php echo __('No Result Searches'); ?></h3>
            </div>
            <div class="analytics-content">
                <?php if (count($this->getNoResultSearches())): ?>
                    <table class="data-table admin__table-primary">
                        <thead>
                            <tr class="headings">
                                <th><?php echo __('Query') ?></th>
                                <th><?php echo __('Count') ?></th>
                            </tr>
                        </thead>
                        <tbody>
                        <?php foreach ($this->getNoResultSearches() as $search): ?>
                            <tr>
                                <td><?php echo $search['search'] ?></td>
                                <td><?php echo $search['count'] ?></td>
                            </tr>
                        <?php endforeach ?>
                        </tbody>
                    </table>
                <?php else: ?>
                    <?php echo __('No hits yet!'); ?>
                <?php endif ?>
            </div>
        </div>
    </div>
</div>
