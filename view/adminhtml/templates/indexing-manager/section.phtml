<?php
/** @var \Magento\Framework\Escaper $escaper */
/** @var \Magento\Backend\Block\Template $block */
/** @var \Algolia\AlgoliaSearch\ViewModel\Adminhtml\IndexingManager\Section $view */
$view = $block->getViewModel();
$view->setEntity($block->getData('entity'));
$relatedIndices = $view->getRelatedIndices();
?>

<div class="algolia-indexing-manager-section">
    <h2><?php echo $escaper->escapeHtml($view->getSectionTitle()) ?></h2>
    <?php if (count($relatedIndices) > 0) : ?>
        <?php foreach ($relatedIndices as $storeId => $relatedIndex) : ?>
            <p><?= $escaper->escapeHtml($relatedIndex['name']) ?> : <a href="<?= $escaper->escapeUrl($view->getIndexUrl($relatedIndex['index'], $storeId)) ?>" target="_blank" ><?= $escaper->escapeHtml($relatedIndex['index']) ?></a></p>
        <?php endforeach; ?>
    <?php endif ?>
</div>
